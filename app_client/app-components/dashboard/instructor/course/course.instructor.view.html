<div class="animated fadeIn container-fluid p-2" ng-controller="Instructor.Course.Controller">
    <div class="divide-header pt-3 pb-3 text-uppercase">
        <span>sections</span>
    </div>
    <div class="row" style="overflow: hidden;">
        <div
            class="col-xl-4 pb-2"
            ng-repeat="section in $storage.courses[$stateParams.selectedCourse].sections |
                       offset: (currentSectionPage - 1) * itemsPerPage |
                       limitTo: itemsPerPage"
            ng-init="statusPopulate(section)">
            <div class="card animated fadeIn">
                <div class="card-header text-uppercase text-center p-2">
                    <b>Section: {{section.name}}</b>
                </div>
                <div class="card-block">
                <div class="d-flex justify-content-between">
                    <i
                        class="fa fa-exclamation-circle"
                        aria-hidden="true"
                        style="font-size:120px; color: red;"
                        ng-show="section.students.length === 0">
                    </i>
                    <canvas
                        id="doughnut"
                        class="chart chart-doughnut"
                        chart-data="status_data[section.name]"
                        chart-options="status_options"
                        chart-labels="status_labels"
                        ng-show="section.students.length !== 0"
                        height="120"
                        width="120"></canvas>
                    <div class="border-right"></div>
                    <div class="text-center">
                        <p class="m-0">
                            Section AVG
                        </p>
                        <p class="alignt-middle pr-2" style="font-size: 72px;">
                            0%
                        </p>
                    </div>
                </div>
                </div>
                <div class="card-footer text-muted d-flex justify-content-between">
                    <div class="pt-2">
                        <p class="m-0">
                            <span>
                                <i class="fa fa-users pr-1" aria-hidden="true"></i>
                            </span>
                            {{section.students.length}} Students
                        </p>
                    </div>
                    <div>
                        <a ui-sref="main.instructor_add_students({selectedSection: section, selectedCourse:$stateParams.selectedCourse})">
                            <button type="button" class="btn btn-primary btn-sm">Manage Students</button>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center">
        <nav>
            <ul class="pagination">
                <li
                    class="page-item"
                    ng-repeat="section in getPages($storage.courses[$stateParams.selectedCourse].sections, itemsPerPage)">
                    <a href="" ng-click="updateSectionPage($index+1)" class="pr-1">
                        <i
                            class="fa fa-2"
                            aria-hidden="true"
                            ng-class="{ 'fa-dot-circle-o': currentSectionPage === $index+1,
                                        'fa-circle-o': currentSectionPage !== $index+1}">
                        </i>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="divide-header pt-2 pb-2 text-uppercase">
        <span>lectures</span>
    </div>
    <pre>
        {{$storage.courses[$stateParams.selectedCourse] | json}}
    </pre>
</div>
