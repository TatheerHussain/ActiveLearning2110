<div class="login modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-body">
                <h2 class="text-center pb-4">
                    <span>{{title}}</span>
                    <button type="btn float-right" class="close" data-dismiss="modal" ng-show="!register"><i class="fa fa-times" aria-hidden="true"></i></button>
                    <button
                        type="btn float-right"
                        ng-click="toggleRegister()"
                        class="close"
                        ng-show="register">
                        &times;
                    </button>
                </h2>
                <!-- Login Form -->
                <form name="loginForm">
                    <div
                        ng-show="register"
                        class="input-group pb-2"
                        ng-class="{ 'has-danger':
                                        (loginForm.firstname.$touched && loginForm.firstname.$invalid)
                                        || (loginForm.lastname.$touched && loginForm.lastname.$invalid),
                                    'has-success': loginForm.firstname.$valid || loginForm.lastname.$valid}">
                        <div class="input-group-addon"><i class="fa fa-address-book fa-fw" aria-hidden="true"></i></div>
                        <input
                            placeholder="First name"
                            type="text"
                            name="firstname"
                            class="form-control"
                            ng-model="firstname"
                            ng-required="register" autofocus/>
                        <input
                            placeholder="Last name"
                            type="text"
                            name="lastname"
                            class="form-control"
                            ng-model="lastname"
                            ng-required="register" />
                    </div>
                    <div
                        class="input-group pb-2"
                        ng-class="{ 'has-danger':
                                        loginForm.email.$touched &&
                                        (loginForm.email.$error.invalidGatech || loginForm.email.$invalid),
                                    'has-success': loginForm.email.$valid }">
                        <div class="input-group-addon"><i class="fa fa-envelope fa-fw" aria-hidden="true"></i></div>
                        <input
                            placeholder="Email Address"
                            type="email"
                            name="email"
                            class="form-control"
                            ng-model="email"
                            required gatech/>
                    </div>
                    <div
                        class="input-group pb-2"
                        ng-class="{ 'has-danger':
                                        loginForm.password.$touched &&
                                        (loginForm.password.$invalid || loginform.password.$error.minlength),
                                   'has-success': loginForm.password.$valid }">
                        <div class="input-group-addon"><i class="fa fa-unlock-alt fa-fw" aria-hidden="true"></i></div>
                        <input
                            placeholder="Password"
                            type="password"
                            name="password"
                            class="form-control"
                            ng-minlength="5"
                            ng-model="password"
                            required />
                    </div>
                    <!-- Extra Register Fields -->
                    <div
                        class="input-group pb-2"
                        ng-show="register"
                        ng-class="{ 'has-danger':
                                        loginForm.passwordVerify.$touched &&
                                        (loginForm.passwordVerify.$invalid ||
                                        loginForm.passwordVerify.$error.minlength ||
                                        loginform.passwordVerify.$error.invalidEqPass),
                                    'has-success': loginForm.passwordVerify.$valid }">
                        <div class="input-group-addon"><i class="fa fa-check-circle fa-fw" aria-hidden="true"></i></div>
                        <input
                            placeholder="Verify Password"
                            type="password"
                            name="passwordVerify"
                            class="form-control"
                            ng-minlength="5"
                            ng-model="passwordVerify"
                            ng-required="register"
                            verifypass/>
                    </div>
                    <!-- Professor Specific -->
                    <div class="input-group pb-2" ng-show="register">
                        <span class="input-group-addon">
                            <button
                                ng-model="professor"
                                type="button"
                                class="btn btn-outline-success"
                                ng-click="professorClick()"
                                data-toggle="button"
                                aria-pressed="false"
                                autocomplete="off">
                                Professor
                            </button>
                        </span>
                        <input
                            placeholder="Professor Key"
                            name="professorKey"
                            type="text"
                            ng-disabled="!professor"
                            class="form-control"
                            ng-minlength="5"
                            ng-model="professorKey"
                            ng-required="professor"/>
                    </div>
                    <!-- Error Message -->
                    <div ng-if="error" class="alert alert-danger alert-dismissible fade show" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        {{error}}
                    </div>
                    <!-- Login/Register Buttons -->
                    <div class="form-group pt-1">
                        <div ng-class="{ 'btn-toolbar justify-content-between': !register,
                                         'text-center': register }" role="toolbar">
                            <div class="btn-group" role="group" >
                                <button
                                    ng-click="submit()"
                                    ng-disabled="loginForm.$invalid"
                                    class="btn btn-outline-success">
                                    <span ng-show="loading">
                                        <i class="fa fa-circle-o-notch fa-spin"></i>
                                    </span>
                                    {{title}}
                                </button>
                            </div>
                            <button
                                class="btn btn-outline-info"
                                ng-hide="register"
                                ng-click="toggleRegister()">Register
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
